// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package launchdarkly

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a LaunchDarkly custom role resource.
//
// > **Note:** Custom roles are available to customers on an Enterprise LaunchDarkly plan. To learn more, read about our pricing. To upgrade your plan, [contact LaunchDarkly Sales](https://launchdarkly.com/contact-sales/).
//
// This resource allows you to create and manage custom roles within your LaunchDarkly organization.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/lbrlabs/pulumi-launchdarkly/sdk/go/launchdarkly"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := launchdarkly.NewCustomRole(ctx, "example", &launchdarkly.CustomRoleArgs{
//				Description: pulumi.String("This is an example role"),
//				Key:         pulumi.String("example-role-key-1"),
//				PolicyStatements: launchdarkly.CustomRolePolicyStatementArray{
//					&launchdarkly.CustomRolePolicyStatementArgs{
//						Actions: pulumi.StringArray{
//							pulumi.String("*"),
//						},
//						Effect: pulumi.String("allow"),
//						Resources: pulumi.StringArray{
//							pulumi.String("proj/*:env/production:flag/*"),
//						},
//					},
//					&launchdarkly.CustomRolePolicyStatementArgs{
//						Actions: pulumi.StringArray{
//							pulumi.String("*"),
//						},
//						Effect: pulumi.String("allow"),
//						Resources: pulumi.StringArray{
//							pulumi.String("proj/*:env/production"),
//						},
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// You can import LaunchDarkly custom roles by using an existing custom role `key`. For example
//
// ```sh
//
//	$ pulumi import launchdarkly:index/customRole:CustomRole example example-role-key-1
//
// ```
type CustomRole struct {
	pulumi.CustomResourceState

	// The base permission level. Either `reader` or `noAccess`. Defaults to `reader` if not set.
	BasePermissions pulumi.StringPtrOutput `pulumi:"basePermissions"`
	// The description of the custom role.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// The unique key that references the custom role. A change in this field will force the destruction of the existing resource and the creation of a new one.
	Key pulumi.StringOutput `pulumi:"key"`
	// The human-readable name for the custom role.
	Name pulumi.StringOutput `pulumi:"name"`
	// Deprecated: 'policy' is now deprecated. Please migrate to 'policy_statements' to maintain future compatability.
	Policies CustomRolePolicyArrayOutput `pulumi:"policies"`
	// The custom role policy block. To learn more, read [Using policies](https://docs.launchdarkly.com/home/members/role-policies).
	PolicyStatements CustomRolePolicyStatementArrayOutput `pulumi:"policyStatements"`
}

// NewCustomRole registers a new resource with the given unique name, arguments, and options.
func NewCustomRole(ctx *pulumi.Context,
	name string, args *CustomRoleArgs, opts ...pulumi.ResourceOption) (*CustomRole, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Key == nil {
		return nil, errors.New("invalid value for required argument 'Key'")
	}
	opts = pkgResourceDefaultOpts(opts)
	var resource CustomRole
	err := ctx.RegisterResource("launchdarkly:index/customRole:CustomRole", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetCustomRole gets an existing CustomRole resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetCustomRole(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *CustomRoleState, opts ...pulumi.ResourceOption) (*CustomRole, error) {
	var resource CustomRole
	err := ctx.ReadResource("launchdarkly:index/customRole:CustomRole", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering CustomRole resources.
type customRoleState struct {
	// The base permission level. Either `reader` or `noAccess`. Defaults to `reader` if not set.
	BasePermissions *string `pulumi:"basePermissions"`
	// The description of the custom role.
	Description *string `pulumi:"description"`
	// The unique key that references the custom role. A change in this field will force the destruction of the existing resource and the creation of a new one.
	Key *string `pulumi:"key"`
	// The human-readable name for the custom role.
	Name *string `pulumi:"name"`
	// Deprecated: 'policy' is now deprecated. Please migrate to 'policy_statements' to maintain future compatability.
	Policies []CustomRolePolicy `pulumi:"policies"`
	// The custom role policy block. To learn more, read [Using policies](https://docs.launchdarkly.com/home/members/role-policies).
	PolicyStatements []CustomRolePolicyStatement `pulumi:"policyStatements"`
}

type CustomRoleState struct {
	// The base permission level. Either `reader` or `noAccess`. Defaults to `reader` if not set.
	BasePermissions pulumi.StringPtrInput
	// The description of the custom role.
	Description pulumi.StringPtrInput
	// The unique key that references the custom role. A change in this field will force the destruction of the existing resource and the creation of a new one.
	Key pulumi.StringPtrInput
	// The human-readable name for the custom role.
	Name pulumi.StringPtrInput
	// Deprecated: 'policy' is now deprecated. Please migrate to 'policy_statements' to maintain future compatability.
	Policies CustomRolePolicyArrayInput
	// The custom role policy block. To learn more, read [Using policies](https://docs.launchdarkly.com/home/members/role-policies).
	PolicyStatements CustomRolePolicyStatementArrayInput
}

func (CustomRoleState) ElementType() reflect.Type {
	return reflect.TypeOf((*customRoleState)(nil)).Elem()
}

type customRoleArgs struct {
	// The base permission level. Either `reader` or `noAccess`. Defaults to `reader` if not set.
	BasePermissions *string `pulumi:"basePermissions"`
	// The description of the custom role.
	Description *string `pulumi:"description"`
	// The unique key that references the custom role. A change in this field will force the destruction of the existing resource and the creation of a new one.
	Key string `pulumi:"key"`
	// The human-readable name for the custom role.
	Name *string `pulumi:"name"`
	// Deprecated: 'policy' is now deprecated. Please migrate to 'policy_statements' to maintain future compatability.
	Policies []CustomRolePolicy `pulumi:"policies"`
	// The custom role policy block. To learn more, read [Using policies](https://docs.launchdarkly.com/home/members/role-policies).
	PolicyStatements []CustomRolePolicyStatement `pulumi:"policyStatements"`
}

// The set of arguments for constructing a CustomRole resource.
type CustomRoleArgs struct {
	// The base permission level. Either `reader` or `noAccess`. Defaults to `reader` if not set.
	BasePermissions pulumi.StringPtrInput
	// The description of the custom role.
	Description pulumi.StringPtrInput
	// The unique key that references the custom role. A change in this field will force the destruction of the existing resource and the creation of a new one.
	Key pulumi.StringInput
	// The human-readable name for the custom role.
	Name pulumi.StringPtrInput
	// Deprecated: 'policy' is now deprecated. Please migrate to 'policy_statements' to maintain future compatability.
	Policies CustomRolePolicyArrayInput
	// The custom role policy block. To learn more, read [Using policies](https://docs.launchdarkly.com/home/members/role-policies).
	PolicyStatements CustomRolePolicyStatementArrayInput
}

func (CustomRoleArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*customRoleArgs)(nil)).Elem()
}

type CustomRoleInput interface {
	pulumi.Input

	ToCustomRoleOutput() CustomRoleOutput
	ToCustomRoleOutputWithContext(ctx context.Context) CustomRoleOutput
}

func (*CustomRole) ElementType() reflect.Type {
	return reflect.TypeOf((**CustomRole)(nil)).Elem()
}

func (i *CustomRole) ToCustomRoleOutput() CustomRoleOutput {
	return i.ToCustomRoleOutputWithContext(context.Background())
}

func (i *CustomRole) ToCustomRoleOutputWithContext(ctx context.Context) CustomRoleOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CustomRoleOutput)
}

// CustomRoleArrayInput is an input type that accepts CustomRoleArray and CustomRoleArrayOutput values.
// You can construct a concrete instance of `CustomRoleArrayInput` via:
//
//	CustomRoleArray{ CustomRoleArgs{...} }
type CustomRoleArrayInput interface {
	pulumi.Input

	ToCustomRoleArrayOutput() CustomRoleArrayOutput
	ToCustomRoleArrayOutputWithContext(context.Context) CustomRoleArrayOutput
}

type CustomRoleArray []CustomRoleInput

func (CustomRoleArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CustomRole)(nil)).Elem()
}

func (i CustomRoleArray) ToCustomRoleArrayOutput() CustomRoleArrayOutput {
	return i.ToCustomRoleArrayOutputWithContext(context.Background())
}

func (i CustomRoleArray) ToCustomRoleArrayOutputWithContext(ctx context.Context) CustomRoleArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CustomRoleArrayOutput)
}

// CustomRoleMapInput is an input type that accepts CustomRoleMap and CustomRoleMapOutput values.
// You can construct a concrete instance of `CustomRoleMapInput` via:
//
//	CustomRoleMap{ "key": CustomRoleArgs{...} }
type CustomRoleMapInput interface {
	pulumi.Input

	ToCustomRoleMapOutput() CustomRoleMapOutput
	ToCustomRoleMapOutputWithContext(context.Context) CustomRoleMapOutput
}

type CustomRoleMap map[string]CustomRoleInput

func (CustomRoleMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CustomRole)(nil)).Elem()
}

func (i CustomRoleMap) ToCustomRoleMapOutput() CustomRoleMapOutput {
	return i.ToCustomRoleMapOutputWithContext(context.Background())
}

func (i CustomRoleMap) ToCustomRoleMapOutputWithContext(ctx context.Context) CustomRoleMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CustomRoleMapOutput)
}

type CustomRoleOutput struct{ *pulumi.OutputState }

func (CustomRoleOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**CustomRole)(nil)).Elem()
}

func (o CustomRoleOutput) ToCustomRoleOutput() CustomRoleOutput {
	return o
}

func (o CustomRoleOutput) ToCustomRoleOutputWithContext(ctx context.Context) CustomRoleOutput {
	return o
}

// The base permission level. Either `reader` or `noAccess`. Defaults to `reader` if not set.
func (o CustomRoleOutput) BasePermissions() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *CustomRole) pulumi.StringPtrOutput { return v.BasePermissions }).(pulumi.StringPtrOutput)
}

// The description of the custom role.
func (o CustomRoleOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *CustomRole) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// The unique key that references the custom role. A change in this field will force the destruction of the existing resource and the creation of a new one.
func (o CustomRoleOutput) Key() pulumi.StringOutput {
	return o.ApplyT(func(v *CustomRole) pulumi.StringOutput { return v.Key }).(pulumi.StringOutput)
}

// The human-readable name for the custom role.
func (o CustomRoleOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *CustomRole) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Deprecated: 'policy' is now deprecated. Please migrate to 'policy_statements' to maintain future compatability.
func (o CustomRoleOutput) Policies() CustomRolePolicyArrayOutput {
	return o.ApplyT(func(v *CustomRole) CustomRolePolicyArrayOutput { return v.Policies }).(CustomRolePolicyArrayOutput)
}

// The custom role policy block. To learn more, read [Using policies](https://docs.launchdarkly.com/home/members/role-policies).
func (o CustomRoleOutput) PolicyStatements() CustomRolePolicyStatementArrayOutput {
	return o.ApplyT(func(v *CustomRole) CustomRolePolicyStatementArrayOutput { return v.PolicyStatements }).(CustomRolePolicyStatementArrayOutput)
}

type CustomRoleArrayOutput struct{ *pulumi.OutputState }

func (CustomRoleArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CustomRole)(nil)).Elem()
}

func (o CustomRoleArrayOutput) ToCustomRoleArrayOutput() CustomRoleArrayOutput {
	return o
}

func (o CustomRoleArrayOutput) ToCustomRoleArrayOutputWithContext(ctx context.Context) CustomRoleArrayOutput {
	return o
}

func (o CustomRoleArrayOutput) Index(i pulumi.IntInput) CustomRoleOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *CustomRole {
		return vs[0].([]*CustomRole)[vs[1].(int)]
	}).(CustomRoleOutput)
}

type CustomRoleMapOutput struct{ *pulumi.OutputState }

func (CustomRoleMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CustomRole)(nil)).Elem()
}

func (o CustomRoleMapOutput) ToCustomRoleMapOutput() CustomRoleMapOutput {
	return o
}

func (o CustomRoleMapOutput) ToCustomRoleMapOutputWithContext(ctx context.Context) CustomRoleMapOutput {
	return o
}

func (o CustomRoleMapOutput) MapIndex(k pulumi.StringInput) CustomRoleOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *CustomRole {
		return vs[0].(map[string]*CustomRole)[vs[1].(string)]
	}).(CustomRoleOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*CustomRoleInput)(nil)).Elem(), &CustomRole{})
	pulumi.RegisterInputType(reflect.TypeOf((*CustomRoleArrayInput)(nil)).Elem(), CustomRoleArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*CustomRoleMapInput)(nil)).Elem(), CustomRoleMap{})
	pulumi.RegisterOutputType(CustomRoleOutput{})
	pulumi.RegisterOutputType(CustomRoleArrayOutput{})
	pulumi.RegisterOutputType(CustomRoleMapOutput{})
}
